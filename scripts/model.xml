<Model>
    <Nodes>
        <Node>
            <Name>webmachine</Name>
            <Type>machine</Type>
            <Properties>
                <Property key="ip">129.69.214.130</Property>
                <Property key="username">toscana-mainmachine</Property>
                <Property key="password">iDontTellYou</Property>
            </Properties>
        </Node>
        <Node>
            <Name>dbmachine</Name>
            <Type>machine</Type>
            <Properties>
                <Property key="ip">129.69.214.200</Property>
                <Property key="username">toscana-database</Property>
                <Property key="password">iDontTellYou</Property>
            </Properties>
        </Node>
        <Node>
            <Name>php</Name>
            <Type>service</Type>
            <ImplementationArtifacts>
                <Create>create</Create>
            </ImplementationArtifacts>
        </Node>
        <Node>
            <Name>php-app</Name>
            <Type>service</Type>
            <ImplementationArtifacts>
                <Create>create</Create>
                <Start>start</Start>
                <Stop>stop</Stop>
            </ImplementationArtifacts>
            <DeploymentArtifacts>
                <DeploymentArtifact key="app">php-app.tlite</DeploymentArtifact>
            </DeploymentArtifacts>
        </Node>
        <Node>
            <Name>apache</Name>
            <Type>service</Type>
            <ImplementationArtifacts>
                <Create>create</Create>
                <Start>start</Start>
                <Stop>stop</Stop>
            </ImplementationArtifacts>
        </Node>
        <Node>
            <Name>mysql</Name>
            <Type>service</Type>
            <ImplementationArtifacts>
                <Create>create</Create>
                <Start>start</Start>
                <Stop>stop</Stop>
            </ImplementationArtifacts>
            <Properties>
                <Property key="port">Port>3306</Property>
                <Property key="rootpassword">godpass</Property>
            </Properties>
        </Node>
        <Node>
            <Name>database</Name>
            <Type>service</Type>
            <ImplementationArtifacts>
                <Create>install</Create>
            </ImplementationArtifacts>
            <DeploymentArtifact key="databaseschema">createdb.sql</DeploymentArtifact>
            <Properties>
                <Property key="user">simpleuser</Property>
                <Property key="password">pass</Property>
                <Property key="databasename">awesomedatabase</Property>
            </Properties>
        </Node>
    </Nodes>
    <Relationships>
        <Relationship>
            <Type>hostedOn</Type>
            <Source>php-app</Source>
            <Target>php</Target>
        </Relationship>
        <Relationship>
            <Type>hostedOn</Type>
            <Source>php</Source>
            <Target>apache</Target>
        </Relationship>
        <Relationship>
            <Type>hostedOn</Type>
            <Source>apache</Source>
            <Target>webmachine</Target>
        </Relationship>
        <Relationship>
            <Type>hostedOn</Type>
            <Source>database</Source>
            <Target>mysql</Target>
        </Relationship>
        <Relationship>
            <Type>hostedOn</Type>
            <Source>mysql</Source>
            <Target>dbmachine</Target>
        </Relationship>
        <Relationship>
            <Type>connectsTo</Type>
            <Source>php-app</Source>
            <Target>database</Target>
            <ImplementationArtifact>dbconnect</ImplementationArtifact>
        </Relationship>
    </Relationships>
</Model>
