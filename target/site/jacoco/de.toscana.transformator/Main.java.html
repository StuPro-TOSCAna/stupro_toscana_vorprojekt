<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">TOSCAna</a> &gt; <a href="index.source.html" class="el_package">de.toscana.transformator</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package de.toscana.transformator;

import de.toscana.transformator.engine.Engine;
import de.toscana.transformator.model.ParsingException;
import de.toscana.transformator.model.TOSCAliteModel;
import de.toscana.transformator.util.ConsoleColors;

import java.io.*;


<span class="nc" id="L11">public class Main {</span>
    private static Engine engine;
    private static TOSCAliteModel toscaLiteModel;

    public static void main(String[] args) {
<span class="fc" id="L16">        printInfo();</span>
<span class="fc bfc" id="L17" title="All 2 branches covered.">        if (args.length == 0) {</span>
<span class="fc" id="L18">            System.out.println(ConsoleColors.getColorizedString(ConsoleColors.ANSI_RED, &quot;File-argument missing.&quot;));</span>
<span class="fc" id="L19">            return;</span>
        } else {
<span class="fc" id="L21">            String model = getModelXmlFileAsString(args[0]);</span>
<span class="fc bfc" id="L22" title="All 2 branches covered.">            if (model == null) return;</span>
            try {
<span class="nc" id="L24">                toscaLiteModel = new TOSCAliteModel(model);</span>
<span class="fc" id="L25">            } catch (ParsingException e) {</span>
<span class="fc" id="L26">                System.err.println(e.getMessage());</span>
<span class="fc" id="L27">                return;</span>
<span class="nc" id="L28">            }</span>
<span class="nc" id="L29">            engine = new Engine(toscaLiteModel);</span>
        }

<span class="nc" id="L32">        setUpController();</span>
<span class="nc" id="L33">    }</span>

    private static void setUpController() {
<span class="nc" id="L36">        Controller controller = new Controller();</span>
<span class="nc" id="L37">        controller.setListener(s -&gt; {</span>
<span class="nc bnc" id="L38" title="All 2 branches missed.">            if (engine != null) {</span>
<span class="nc bnc" id="L39" title="All 2 branches missed.">                if (&quot;start&quot;.equals(s)) engine.start();</span>
<span class="nc bnc" id="L40" title="All 2 branches missed.">                else if (&quot;stop&quot;.equals(s)) engine.stop();</span>
            } else {
<span class="nc" id="L42">                System.out.println(ConsoleColors.getColorizedString(ConsoleColors.ANSI_RED, &quot;Something went wrong!&quot;));</span>
<span class="nc" id="L43">                return;</span>
            }
<span class="nc" id="L45">        });</span>
<span class="nc" id="L46">        controller.createReader();</span>
<span class="nc" id="L47">    }</span>

    private static String getModelXmlFileAsString(String arg) {
<span class="fc" id="L50">        System.out.println(&quot;Inputfile: &quot; + arg);</span>
        String string;
<span class="fc" id="L52">        File inputFile = new File(arg);</span>
        ArchiveHandler archiveHandler;
        try {
<span class="fc" id="L55">            archiveHandler = new ArchiveHandler(inputFile);</span>
<span class="fc" id="L56">            string = archiveHandler.getModelXml();</span>
<span class="fc" id="L57">        } catch (ArchiveHandler.ArchiveException e) {</span>
<span class="fc" id="L58">            System.err.println(ConsoleColors.getColorizedString(ConsoleColors.ANSI_RED, e.getMessage()));</span>
<span class="fc" id="L59">            return null;</span>
<span class="fc" id="L60">        }</span>
<span class="fc" id="L61">        return string;</span>
    }


    private static void printInfo() {
<span class="fc" id="L66">        System.out.println(&quot;████████╗ ██████╗ ███████╗ ██████╗ █████╗ ██████╗ ██╗   ██╗███████╗██████╗ ██╗  ██╗███████╗██████╗ ███████╗&quot;);</span>
<span class="fc" id="L67">        System.out.println(&quot;╚══██╔══╝██╔═══██╗██╔════╝██╔════╝██╔══██╗╚════██╗██║   ██║██╔════╝██╔══██╗██║  ██║██╔════╝██╔══██╗██╔════╝&quot;);</span>
<span class="fc" id="L68">        System.out.println(&quot;   ██║   ██║   ██║███████╗██║     ███████║ █████╔╝██║   ██║███████╗██████╔╝███████║█████╗  ██████╔╝█████╗&quot;);</span>
<span class="fc" id="L69">        System.out.println(&quot;   ██║   ██║   ██║╚════██║██║     ██╔══██║██╔═══╝ ╚██╗ ██╔╝╚════██║██╔═══╝ ██╔══██║██╔══╝  ██╔══██╗██╔══╝&quot;);</span>
<span class="fc" id="L70">        System.out.println(&quot;   ██║   ╚██████╔╝███████║╚██████╗██║  ██║███████╗ ╚████╔╝ ███████║██║     ██║  ██║███████╗██║  ██║███████╗&quot;);</span>
<span class="fc" id="L71">        System.out.println(&quot;   ╚═╝    ╚═════╝ ╚══════╝ ╚═════╝╚═╝  ╚═╝╚══════╝  ╚═══╝  ╚══════╝╚═╝     ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚══════╝&quot;);</span>
<span class="fc" id="L72">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>